<div class="container">
  <div class="row">
    <div class="col-md-5">
      <mat-form-field style="width: 90%;" class="example-full-width">
        <mat-label>Buscar comunicado</mat-label>
        <input id="buscador" name="buscador" matInput placeholder="Digite el titulo de comunicado" (ngModelChange)="buscarMensajeDos()" [(ngModel)]="valorBusqueda">
        <mat-icon matSuffix><span class="material-icons">search</span></mat-icon>
      </mat-form-field>
    </div>
    <div class="col-md-2"></div>
    <div class="col-md-5"></div>
  </div>
</div>
<div *ngIf="mVacio" class="container">
  <app-mostrar-lista-vacia></app-mostrar-lista-vacia>
</div>
<div class="container" id="contenedorBandeja">
  <div class="row">
    <div class="col-md-6" *ngFor="let data of listaMensajes; let i=index">
        <div class="mt-3">
          <div class="card">
            <div class="headerMessage">
              <div class="userEnviador">
                <div class="form-inline">
                  <i style="margin-top: -10px; font-size: 20px;" class="fas fa-envelope"></i><b><p style="margin-top: 10x; margin-left: 4px;"> {{data.tipo_comunicado}}</p></b>
                </div>
              </div>
              <div>
                <div class="btn-group dropleft">
                  <div (click)="eliminarMensaje(i)" style="margin: 10px; cursor: pointer;">
                    <i id="delete" style="margin-left: 10px;" class="fas fa-trash"></i>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-body">
              <h5 class="card-title"><b>Asunto:</b> {{data.asunto}}</h5>
              <p class="card-text" style="text-align: justify;">{{recortarMensaje(data.contenido)}} ...
              <span (click)="verMensaje(i)" style="cursor: pointer;" class="badge badge-pill badge-info" data-toggle="modal" data-target="#mensaje">Ver más</span></p>
            </div>
            <div class="card-footer" id="footerMessage">
              <div><b>Fecha de envio:</b> {{data.fecha}}</div>
              <div><h4 class="card-title"><b>Destino:</b> {{data.Destino}}</h4></div>
            </div>
            </div>
        </div>
    </div>
  </div>
</div>

<!--Modal de muestra de mensaje-->
<div class="modal fade" id="mensaje" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel"><i class="fas fa-mail-bulk"></i> Mensaje enviado</h5>
        <button type="button" class="close btn-sm" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <table style="max-width: 600px; padding: 10px; margin:0 auto; border: 1px solid #1A70B3;">
          <tr>
              <td style="text-align: center; padding: 0; display: flex; justify-content: space-between">
                  <img width="90%" style="margin: 1.5% auto; text-align: left" src="https://i.postimg.cc/ZKJ9xQH3/belen3.png">
              </td>
          </tr>

          <tr>
              <td style="font-family: Times, serif;">
                  <h2 style="text-align: center; text-decoration: underline;">{{tipo}}</h2>
              </td>
          </tr>
          <tr>
              <td>
                  <div style="text-align: justify;">
                      <p style="margin: 2px; font-size: 18px; padding: 13px; font-family: 'Times New Roman', Times, serif;">
                        {{contenido}}
                      </p>
                  </div>
              </td>
          </tr>
          <tr>
              <td>
                  <p  style="float: right; font-size:14px; padding: 13px; ">Fecha: {{fecha}}</p>
              </td>
          </tr>
          <tr>
              <td>
                  <b><p style="text-align: center; font-size: 15px; ">Atentamente:</p></b>
                  <p style="text-align: center; font-size: 15px; margin-top: 0">I.E Belén Osma y Pardo - Andahuaylas</p>
                  <hr style="width: 40%; border: 1px solid; text-align: center">
              </td>
          </tr>
      </table>

      </div>
    </div>
  </div>
</div>
